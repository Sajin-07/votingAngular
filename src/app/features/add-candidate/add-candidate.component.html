<div class="add-candidate-container">
  <!-- Header -->
  <header class="page-header">
    <button class="btn-back" (click)="goBack()">
      <i class="fas fa-arrow-left"></i> Back
    </button>
    <h1>Add New Candidate</h1>
    <p>Register a candidate for the election</p>
  </header>

  <!-- Form -->
  <div class="form-container">
    <form (ngSubmit)="onSubmit()">
      <!-- Mandatory Field -->
      <div class="mandatory-section">
        <h3><i class="fas fa-star-of-life"></i> Mandatory Field</h3>
        
        <div class="form-group">
          <label class="required">Candidate ID</label>
          <input
            type="text"
            [(ngModel)]="candidateId"
            name="candidateId"
            placeholder="Enter unique candidate ID"
            required
            [disabled]="isLoading"
          />
        </div>
      </div>

      <!-- Photo Upload -->
      <div class="photo-section">
        <h3><i class="fas fa-camera"></i> Photo (Optional)</h3>
        
        <div class="photo-upload">
          <input
            type="file"
            id="photoInput"
            accept="image/*"
            (change)="onPhotoSelected($event)"
            [disabled]="isLoading"
            style="display: none"
          />
          
          <label for="photoInput" class="photo-upload-label">
            <div class="photo-preview" *ngIf="photoPreview">
              <img [src]="photoPreview" alt="Preview" />
            </div>
            <div class="photo-placeholder" *ngIf="!photoPreview">
              <i class="fas fa-cloud-upload-alt"></i>
              <p>Click to upload photo</p>
            </div>
          </label>
        </div>
      </div>

      <!-- Custom Fields -->
      <div class="custom-fields-section" *ngIf="customFields.length > 0">
        <h3><i class="fas fa-list"></i> Custom Fields</h3>
        
        <div class="form-group" *ngFor="let field of customFields">
          <label>{{ field.fieldLabel }}</label>
          <input
            type="text"
            [(ngModel)]="customFieldValues[field.fieldName]"
            [name]="field.fieldName"
            [placeholder]="field.placeholder || 'Enter ' + field.fieldLabel"
            [disabled]="isLoading"
          />
        </div>
      </div>

      <!-- No Custom Fields Message -->
      <div class="no-fields-message" *ngIf="customFields.length === 0">
        <i class="fas fa-info-circle"></i>
        <p>No custom fields configured. Go to Settings to add custom fields.</p>
      </div>

      <!-- Messages -->
      <div class="success-message" *ngIf="successMessage">
        <i class="fas fa-check-circle"></i>
        {{ successMessage }}
      </div>

      <div class="error-message" *ngIf="errorMessage">
        <i class="fas fa-exclamation-circle"></i>
        {{ errorMessage }}
      </div>

      <!-- Actions -->
      <div class="form-actions">
        <button type="button" class="btn-cancel" (click)="goBack()" [disabled]="isLoading">
          Cancel
        </button>
        <button type="submit" class="btn-submit" [disabled]="isLoading">
          <span *ngIf="!isLoading">
            <i class="fas fa-user-plus"></i> Add Candidate
          </span>
          <span *ngIf="isLoading">
            <i class="fas fa-spinner fa-spin"></i> Processing...
          </span>
        </button>
      </div>
    </form>
  </div>
</div>