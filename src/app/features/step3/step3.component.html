<div
  class="min-h-screen text-white p-6 md:p-12 flex flex-col font-inter"
  [style.background]="'radial-gradient(circle at center, #535056 0%, #25242D 70%)'"
>
  <div class="max-w-7xl mx-auto w-full flex flex-col h-full">
    
    <header class="flex flex-col md:flex-row justify-between items-center md:items-start mb-10 gap-6 mt-4">
      <div class="flex flex-col items-center md:items-start text-center md:text-left">
        <h1 class="uppercase text-2xl md:text-[28px] mb-4 font-bold tracking-tight">
          DATASOFT POPULARITY CONTEST
        </h1>
        <div class="flex flex-col sm:flex-row gap-2 md:gap-8 text-base md:text-[18px]">
          <p class="text-[#A1A1A1]">
            Vote Ends In
            <span class="ml-1 text-white font-inter font-bold">{{ timeLeft }}</span>
          </p>
          <p class="text-[#A1A1A1]">
            Date
            <span class="ml-1 text-white font-bold">{{ currentDate }}</span>
          </p>
        </div>
      </div>
      <div class="flex items-center gap-4 mt-2 md:mt-0">
        <p class="text-base md:text-[18px] text-[#A1A1A1]">Powered by</p>
        <img [src]="logoImg" alt="DataSoft" class="h-8 md:h-10" />
      </div>
    </header>

    <div class="mb-6 hidden md:block w-full max-w-6xl mx-auto px-4">
      <div class="relative">
        <div class="absolute top-[52px] left-24 right-24 h-[4px] bg-white/60"></div>
        <div
          class="absolute top-[52px] left-24 h-[4px] bg-[#529F2D] transition-all duration-500"
          [style.width]="(activeIndex / (STEPS.length - 1)) * 85 + '%'"
        ></div>
        <div class="flex justify-between relative z-10">
          <div *ngFor="let step of STEPS" class="flex flex-col items-center gap-3 min-w-[140px]">
            <span class="text-[16px]" [class]="step.status !== 'pending' ? 'text-[#529F2D]' : 'text-[#707070]'">
              Step {{ step.id }}
            </span>
            <div
              class="w-10 h-10 rounded-full flex items-center justify-center border-2 transition-colors duration-300"
              [class.bg-[#529F2D]]="step.status === 'completed'"
              [class.border-[#529F2D]]="step.status === 'completed'"
              [class.bg-white]="step.status === 'active'"
              [class.border-white]="step.status === 'active'"
              [class.bg-[#A1A1A1]]="step.status === 'pending'"
              [class.border-[#A1A1A1]]="step.status === 'pending'"
            >
              <lucide-icon *ngIf="step.status === 'completed'" [img]="icons.Check" class="w-6 h-6 text-white"></lucide-icon>
            </div>
            <span class="text-[14px] font-semibold"
              [class.text-[#529F2D]]="step.status === 'completed'"
              [class.text-white]="step.status === 'active'"
              [class.text-[#707070]]="step.status === 'pending'">
              {{ step.label }}
            </span>
          </div>
        </div>
      </div>
    </div>

    <div class="flex-1 grid grid-cols-1 md:grid-cols-12 gap-6 max-w-5xl mx-auto w-full mt-10 mb-10 font-inter">
        
        <div *ngIf="isLoading" class="md:col-span-12 flex items-center justify-center h-[312px]">
            <lucide-icon [img]="icons.Loader2" class="w-10 h-10 text-[#529F2D] animate-spin"></lucide-icon>
        </div>

        <div *ngIf="!isLoading" class="md:col-span-7 flex flex-col gap-4 h-[312px] pr-2 custom-scrollbar overflow-y-auto">
            <div *ngFor="let candidate of CANDIDATES"
                 (click)="selectCandidate(candidate.id)"
                 class="relative group cursor-pointer rounded-lg transition-all duration-300 shrink-0 flex items-center border"
                 [class.bg-[#529F2D]]="selectedCandidateId === candidate.id"
                 [class.border-[#529F2D]]="selectedCandidateId === candidate.id"
                 [class.bg-[#2A2931]]="selectedCandidateId !== candidate.id"
                 [class.border-[#3E3D45]]="selectedCandidateId !== candidate.id"
                 [class.hover:border-[#529F2D]]="selectedCandidateId !== candidate.id"
            >
                <div class="w-[91px] h-[91px] shrink-0 bg-black/20 rounded-tl-[8px] rounded-bl-[8px] overflow-hidden">
                    <img 
                        [src]="candidate.image" 
                        [alt]="candidate.name"
                        class="h-full w-full object-cover object-top"
                    />
                </div>

                <div class="flex flex-col pl-4">
                    <h3 class="text-[24px] font-bold text-white leading-tight">
                        {{ candidate.name }}
                    </h3>
                    <p class="text-[14px]"
                       [class.text-white/90]="selectedCandidateId === candidate.id"
                       [class.text-[#A1A1A1]]="selectedCandidateId !== candidate.id"
                    >
                        {{ candidate.department }}
                    </p>
                </div>
            </div>
        </div>

        <div class="md:col-span-5">
            <div class="h-[312px] rounded-xl bg-[#222126] border shadow-inner flex items-center justify-center p-4 text-center transition-colors duration-300 relative overflow-hidden"
                 [class.border-[#529F2D]]="selectedCandidateId"
                 [class.border-[#333]]="!selectedCandidateId"
            >
                
                <div *ngIf="selectedCandidateId; else placeholder" class="flex flex-col items-center justify-center h-full w-full">
                    
                    <ng-container *ngFor="let c of CANDIDATES">
                        <ng-container *ngIf="c.id === selectedCandidateId">
                            
                            <div class="w-[170px] h-[170px] rounded-lg overflow-hidden mb-4 border-4 border-[#529F2D]/30 shrink-0 shadow-lg bg-black">
                                <img 
                                    [src]="c.image" 
                                    class="w-full h-full object-cover object-top" 
                                    alt="Selected" 
                                />
                            </div>

                            <h2 class="text-2xl font-bold text-white leading-tight">{{ c.name }}</h2>
                            <p class="text-sm font-semibold uppercase tracking-wider text-[#529F2D] mt-1">{{ c.department }}</p>

                            <div class="mt-3 px-4 w-full">
                                <p class="text-[#A1A1A1] text-m italic line-clamp-2 leading-relaxed">
                                    "{{ c.slogan }}"
                                </p>
                            </div>

                        </ng-container>
                    </ng-container>

                </div>

                <ng-template #placeholder>
                    <div class="flex flex-col items-center gap-5">
                        <img [src]="handVector" alt="Hand" class="w-[130px] h-[160px] opacity-80" />
                        <p class="text-white/50 text-sm max-w-[220px]">
                            Please select candidate to see details
                        </p>
                    </div>
                </ng-template>

            </div>
        </div>

    </div>

    <div class="flex flex-col-reverse md:flex-row justify-between max-w-5xl mx-auto w-full px-4 gap-4 mt-auto">
      <button (click)="cancelVote()" class="h-[60px] w-full md:w-[200px] uppercase font-semibold text-[18px] bg-gradient-to-r from-[#444249] to-[#222126] border-0 ring-0 outline-none shadow-md transition-all duration-200 hover:shadow-lg hover:from-[#4f4c55] hover:to-[#2a2830] active:scale-95 cursor-pointer rounded-lg text-white">
        Cancel Vote
      </button>
     
      <button (click)="proceed()" [disabled]="!selectedCandidateId || isLoading" [class.opacity-50]="!selectedCandidateId || isLoading" [class.cursor-not-allowed]="!selectedCandidateId || isLoading" class="h-[60px] w-full md:w-[200px] uppercase font-semibold text-[18px] bg-gradient-to-r from-[#529F2D] to-[#1D3910] border-0 ring-0 outline-none shadow-md transition-all duration-200 hover:shadow-[0_8px_24px_rgba(82,159,45,0.45)] hover:from-[#5fb834] hover:to-[#234715] active:scale-95 cursor-pointer rounded-lg text-white">
        {{ selectedCandidateId ? "Proceed to Vote" : "Choose Candidate" }}
      </button>
    </div>

  </div>
</div>

<!-- <div
  class="min-h-screen text-white p-6 md:p-12 flex flex-col font-inter"
  [style.background]="'radial-gradient(circle at center, #535056 0%, #25242D 70%)'"
>
  
  <div class="max-w-7xl mx-auto w-full flex flex-col h-full">
    
    <header class="flex flex-col md:flex-row justify-between items-center md:items-start mb-10 gap-6 mt-4">
      <div class="flex flex-col items-center md:items-start text-center md:text-left">
        <h1 class="uppercase text-2xl md:text-[28px] mb-4 font-bold tracking-tight">
          DATASOFT POPULARITY CONTEST
        </h1>
        <div class="flex flex-col sm:flex-row gap-2 md:gap-8 text-base md:text-[18px]">
          <p class="text-[#A1A1A1]">
            Vote Ends In
            <span class="ml-1 text-white font-inter font-bold">{{ timeLeft }}</span>
          </p>
          <p class="text-[#A1A1A1]">
            Date
            <span class="ml-1 text-white font-bold">15 December 2025</span>
          </p>
        </div>
      </div>

      <div class="flex items-center gap-4 mt-2 md:mt-0">
        <p class="text-base md:text-[18px] text-[#A1A1A1]">Powered by</p>
        <img [src]="logoImg" alt="DataSoft" class="h-8 md:h-10" />
      </div>
    </header>

    <div class="mb-6 hidden md:block w-full max-w-6xl mx-auto px-4">
      <div class="relative">
        <div class="absolute top-[52px] left-24 right-24 h-[4px] bg-white/60"></div>
        <div
          class="absolute top-[52px] left-24 h-[4px] bg-[#529F2D] transition-all duration-500"
          [style.width]="(activeIndex / (STEPS.length - 1)) * 85 + '%'"
        ></div>

        <div class="flex justify-between relative z-10">
          <div *ngFor="let step of STEPS" class="flex flex-col items-center gap-3 min-w-[140px]">
            <span
              class="text-[16px]"
              [class]="step.status !== 'pending' ? 'text-[#529F2D]' : 'text-[#707070]'"
            >
              Step {{ step.id }}
            </span>
            <div
              class="w-10 h-10 rounded-full flex items-center justify-center border-2 transition-colors duration-300"
              [class.bg-[#529F2D]]="step.status === 'completed'"
              [class.border-[#529F2D]]="step.status === 'completed'"
              [class.bg-white]="step.status === 'active'"
              [class.border-white]="step.status === 'active'"
              [class.bg-[#A1A1A1]]="step.status === 'pending'"
              [class.border-[#A1A1A1]]="step.status === 'pending'"
            >
              <lucide-icon *ngIf="step.status === 'completed'" [img]="icons.Check" class="w-6 h-6 text-white"></lucide-icon>
            </div>
            <span
              class="text-[14px] font-semibold"
              [class.text-[#529F2D]]="step.status === 'completed'"
              [class.text-white]="step.status === 'active'"
              [class.text-[#707070]]="step.status === 'pending'"
            >
              {{ step.label }}
            </span>
          </div>
        </div>
      </div>
    </div>

    <div class="flex-1 grid grid-cols-1 md:grid-cols-12 gap-6 max-w-5xl mx-auto w-full mt-10 mb-10 font-inter">
        
        <div class="md:col-span-7 flex flex-col gap-4 h-[312px] pr-2 custom-scrollbar overflow-y-auto">
            <div *ngFor="let candidate of CANDIDATES"
                 (click)="selectCandidate(candidate.id)"
                 class="relative group cursor-pointer rounded-lg transition-all duration-300 shrink-0 flex items-center border"
                 [class.bg-[#529F2D]]="selectedCandidateId === candidate.id"
                 [class.border-[#529F2D]]="selectedCandidateId === candidate.id"
                 [class.bg-[#2A2931]]="selectedCandidateId !== candidate.id"
                 [class.border-[#3E3D45]]="selectedCandidateId !== candidate.id"
                 [class.hover:border-[#529F2D]]="selectedCandidateId !== candidate.id"
            >
                <div class="w-[91px] h-[91px] shrink-0">
                    <img 
                        [src]="candidate.image" 
                        [alt]="candidate.name"
                        class="h-full w-full object-cover rounded-tl-[8px] rounded-bl-[8px]"
                    />
                </div>

                <div class="flex flex-col pl-4">
                    <h3 class="text-[24px] font-bold text-white leading-tight">
                        {{ candidate.name }}
                    </h3>
                    <p class="text-[14px]"
                       [class.text-white/90]="selectedCandidateId === candidate.id"
                       [class.text-[#A1A1A1]]="selectedCandidateId !== candidate.id"
                    >
                        {{ candidate.department }}
                    </p>
                </div>
            </div>
        </div>

        <div class="md:col-span-5">
            <div class="h-[312px] rounded-xl bg-[#222126] border shadow-inner flex items-center justify-center p-4 text-center transition-colors duration-300"
                 [class.border-[#529F2D]]="selectedCandidateId"
                 [class.border-[#333]]="!selectedCandidateId"
            >
                
                <div *ngIf="selectedCandidateId; else placeholder" class="flex flex-col items-center justify-center h-full">
                    
                    <ng-container *ngFor="let c of CANDIDATES">
                        <ng-container *ngIf="c.id === selectedCandidateId">
                            
                            <div class="w-[149px] h-[149px] rounded-lg overflow-hidden mb-3 border-2 border-[#529F2D]/20 shrink-0">
                                <img [src]="c.image" class="w-full h-full object-cover" alt="Selected" />
                            </div>

                            <h2 class="text-2xl font-bold text-white leading-tight">{{ c.name }}</h2>
                            <p class="text-lg text-[#A1A1A1] mt-1">{{ c.department }}</p>

                            <div class="mt-4 px-5 py-1.5 bg-[#529F2D]/10 text-[#529F2D] rounded-full text-sm font-semibold border border-[#529F2D]/20">
                                CANDIDATE SELECTED
                            </div>

                        </ng-container>
                    </ng-container>

                </div>

                <ng-template #placeholder>
                    <div class="flex flex-col items-center gap-5">
                        <img [src]="handVector" alt="Hand" class="w-[130px] h-[160px] opacity-80" />
                        <p class="text-white/50 text-sm max-w-[220px]">
                            Please select candidate to see details
                        </p>
                    </div>
                </ng-template>

            </div>
        </div>

    </div>

    <div class="flex flex-col-reverse md:flex-row justify-between max-w-5xl mx-auto w-full px-4 gap-4 mt-auto">
      
      <button
        (click)="cancelVote()"
        class="h-[60px] w-full md:w-[200px] uppercase font-semibold text-[18px] bg-gradient-to-r from-[#444249] to-[#222126] border-0 ring-0 outline-none shadow-md transition-all duration-200 hover:shadow-lg hover:from-[#4f4c55] hover:to-[#2a2830] active:scale-95 cursor-pointer rounded-lg text-white"
      >
        Cancel Vote
      </button>
     
      <button
        (click)="proceed()"
        [disabled]="!selectedCandidateId"
        [class.opacity-50]="!selectedCandidateId"
        [class.cursor-not-allowed]="!selectedCandidateId"
        class="h-[60px] w-full md:w-[200px] uppercase font-semibold text-[18px] bg-gradient-to-r from-[#529F2D] to-[#1D3910] border-0 ring-0 outline-none shadow-md transition-all duration-200 hover:shadow-[0_8px_24px_rgba(82,159,45,0.45)] hover:from-[#5fb834] hover:to-[#234715] active:scale-95 cursor-pointer rounded-lg text-white"
      >
        {{ selectedCandidateId ? "Proceed to Vote" : "Choose Candidate" }}
      </button>

    </div>

  </div>
</div> -->