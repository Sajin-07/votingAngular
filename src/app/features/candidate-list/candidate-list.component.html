<div
  class="min-h-screen text-white p-4 md:p-8 flex flex-col font-inter"
  [style.background]="'radial-gradient(circle at center, #535056 0%, #25242D 70%)'"
>
  <div class="max-w-[1400px] mx-auto w-full flex flex-col">
    
    <header class="flex flex-col md:flex-row justify-between items-center md:items-start mb-6 md:mb-8 gap-6">
      
      <div class="flex flex-col md:flex-row items-center md:items-start gap-4 md:gap-6 w-full md:w-auto">
        
        <a 
          routerLink="/dashboard" 
          class="group flex items-center justify-center w-10 h-10 rounded-xl bg-[#2A2931] border border-[#3E3D45] hover:bg-[#3E3D45] hover:border-[#A1A1A1] text-white transition-all duration-300 shadow-lg shrink-0 cursor-pointer"
          title="Back to Dashboard"
        >
          <lucide-icon [img]="icons.ArrowLeft" class="w-5 h-5 group-hover:-translate-x-0.5 transition-transform"></lucide-icon>
        </a>

        <div class="flex flex-col items-center md:items-start text-center md:text-left">
          <h1 class="uppercase text-2xl md:text-[28px] mb-2 md:mb-4 font-bold tracking-tight">
            DATASOFT POPULARITY CONTEST
          </h1>

          <!-- <div class="flex flex-col sm:flex-row gap-2 md:gap-8 text-base md:text-[18px]">
            <p class="text-[#A1A1A1]">
              Vote Ends In
              <span class="ml-1 text-white font-inter font-bold">{{ timeLeft }}</span>
            </p>
            <p class="text-[#A1A1A1]">
              Date
              <span class="ml-1 text-white font-bold">15 January 2026</span>
            </p>
          </div> -->
        </div>
      </div>

      <div class="flex items-center gap-4 mt-2 md:mt-0">
        <p class="text-base md:text-[18px] text-[#A1A1A1]">Powered by</p>
        <img [src]="logoImg" alt="DataSoft" class="h-8 md:h-10" />
      </div>
    </header>
    <div class="flex flex-col gap-6">
      
      <div class="flex p-1 bg-[#2A2931] border border-[#3E3D45] rounded-xl w-full md:w-fit self-center md:self-start">
        <button
          (click)="setTab('not-voted')"
          class="px-6 py-2 rounded-lg text-sm font-bold transition-all duration-300 flex items-center gap-2"
          [ngClass]="activeTab === 'not-voted' ? 'bg-[#FDBA74] text-[#25242D] shadow-md' : 'text-[#A1A1A1] hover:text-white'"
        >
          <lucide-icon [img]="icons.XCircle" class="w-4 h-4"></lucide-icon>
          Not Voted
        </button>
        
        <button
          (click)="setTab('voted')"
          class="px-6 py-2 rounded-lg text-sm font-bold transition-all duration-300 flex items-center gap-2"
          [ngClass]="activeTab === 'voted' ? 'bg-[#86EFAC] text-[#25242D] shadow-md' : 'text-[#A1A1A1] hover:text-white'"
        >
          <lucide-icon [img]="icons.CheckCircle" class="w-4 h-4"></lucide-icon>
          Has Voted
        </button>
      </div>

      <div *ngIf="isLoading" class="text-center py-20 text-[#A1A1A1] animate-pulse">
        Loading employee data...
      </div>

      <div *ngIf="!isLoading && displayedEmployees.length === 0" class="text-center py-20 bg-[#2A2931]/50 border border-[#3E3D45] rounded-xl border-dashed">
        <p class="text-[#A1A1A1] text-lg">No employees found in this category.</p>
      </div>

      <div *ngIf="!isLoading && displayedEmployees.length > 0" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
        <div 
          *ngFor="let employee of displayedEmployees"
          class="bg-[#2A2931] border border-[#3E3D45] rounded-xl p-4 flex items-center gap-4 hover:bg-[#32313a] transition-all duration-300 shadow-lg group relative overflow-hidden"
        >
          <div 
            class="absolute left-0 top-0 bottom-0 w-1 transition-colors duration-300"
            [ngClass]="employee.hasVoted ? 'bg-[#86EFAC]' : 'bg-[#FDBA74]'"
          ></div>

          <div class="relative w-16 h-16 shrink-0 ml-2">
            <img 
              [src]="employee.photoUrl" 
              alt="{{ employee.name }}" 
              class="w-full h-full rounded-full object-cover border-2 border-[#3E3D45] group-hover:border-[#A1A1A1] transition-colors"
              (error)="handleImageError($event)"
            />
            <div class="absolute inset-0 bg-[#3E3D45] rounded-full hidden items-center justify-center border-2 border-[#3E3D45]">
               <lucide-icon [img]="icons.User" class="w-8 h-8 text-[#A1A1A1]"></lucide-icon>
            </div>
          </div>

          <div class="flex flex-col min-w-0 flex-1">
            <div class="flex justify-between items-start">
              <span class="text-[#A1A1A1] text-[10px] font-bold uppercase tracking-wider mb-0.5">
                {{ employee.dsId }}
              </span>
              <div *ngIf="!employee.isRegistered" class="w-2 h-2 rounded-full bg-red-500" title="Not Registered"></div>
            </div>

            <h3 class="text-white font-bold text-base truncate pr-1" title="{{ employee.name }}">
              {{ employee.name }}
            </h3>
            <p class="text-[#A1A1A1] text-xs truncate">
              {{ employee.designation }}
            </p>
            
            <div class="mt-2 flex items-center gap-2">
              <span 
                class="px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider"
                [ngClass]="employee.hasVoted ? 'bg-[#86EFAC]/10 text-[#86EFAC]' : 'bg-[#FDBA74]/10 text-[#FDBA74]'"
              >
                {{ employee.hasVoted ? 'Voted' : 'Pending' }}
              </span>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>